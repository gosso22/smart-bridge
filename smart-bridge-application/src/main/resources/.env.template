# Smart Bridge Environment Configuration Template
# Copy this file to .env and fill in the values for your environment

# ========== Application Profile ==========
SPRING_PROFILES_ACTIVE=dev

# ========== OpenHIM Configuration ==========
OPENHIM_CORE_URL=http://localhost:8080
OPENHIM_USERNAME=root@openhim.org
OPENHIM_PASSWORD=password
OPENHIM_TRUST_SELF_SIGNED=true

# ========== FHIR Server Configuration ==========
FHIR_SERVER_URL=http://localhost:8082/fhir
FHIR_TIMEOUT=30000

# ========== UCS System Configuration ==========
UCS_API_URL=http://localhost:8081/ucs
UCS_TIMEOUT=10000
UCS_AUTH_TYPE=token

# ========== RabbitMQ Configuration ==========
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_CONSUMER_CONCURRENCY=5
RABBITMQ_CONSUMER_MAX_CONCURRENCY=10
RABBITMQ_CONSUMER_PREFETCH=10

# ========== Security Configuration ==========
TLS_ENABLED=true
TLS_KEYSTORE_PATH=/path/to/keystore.p12
TLS_KEYSTORE_PASSWORD=changeit
TLS_TRUSTSTORE_PATH=/path/to/truststore.p12
TLS_TRUSTSTORE_PASSWORD=changeit
TLS_PROTOCOL=TLSv1.3
TLS_VERIFY_HOSTNAME=true

# IMPORTANT: Use a strong encryption key in production (32+ characters)
ENCRYPTION_KEY=changeme-use-strong-key-minimum-32-chars

# ========== Token Rotation Configuration ==========
TOKEN_ROTATION_INTERVAL=24
TOKEN_GRACE_PERIOD=1
TOKEN_AUTO_ROTATION=true
TOKEN_ROTATION_CRON=0 0 * * * *
TOKEN_MONITORED_SYSTEMS=ucs-system,fhir-system,gothomis-system

# ========== SSL Configuration ==========
SSL_ENABLED=false
SSL_KEYSTORE_PATH=classpath:keystore.p12
SSL_KEYSTORE_PASSWORD=changeit

# ========== Transformation Configuration ==========
TRANSFORMATION_VALIDATION=true
TRANSFORMATION_STRICT=false
TRANSFORMATION_POOL_CORE=10
TRANSFORMATION_POOL_MAX=20
TRANSFORMATION_QUEUE_CAPACITY=100

# ========== Reverse Sync Configuration ==========
REVERSE_SYNC_POOL_CORE=5
REVERSE_SYNC_POOL_MAX=10
REVERSE_SYNC_QUEUE_CAPACITY=50

# ========== Resilience Configuration ==========
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_COOLDOWN=30
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3

RETRY_MAX_ATTEMPTS=3
RETRY_INITIAL_DELAY=1000
RETRY_MAX_DELAY=32000
RETRY_BACKOFF_MULTIPLIER=2.0

NETWORK_MONITOR_ENABLED=true
NETWORK_MONITOR_INTERVAL=30
NETWORK_MONITOR_TIMEOUT=5000

# ========== Monitoring Configuration ==========
METRICS_ENABLED=true
AUDIT_ENABLED=true
